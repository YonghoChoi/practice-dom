<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <style media="screen">
      #show {
        position: fixed;
        left: 100px;
        top: 80px;
        border: 1px blue solid
      }
    </style>
    <script src="../common/myNote.js"/>
    <script src="../common/log.js" charset="utf-8"></script>
  </head>
  <body>
    <div id="show" style="width: 150px; height: 40px; border: 1px blue solid">클릭하세요.</div>

    <script type="text/javascript">
      // Custom Event에서 이벤트를 발생시켰을 때 호출될 리스너
      var node = document.getElementById('show');

      // initEvent()에서 지정한 이벤트 이름과 연동하여 dispatchEvent로 이벤트를 발생시키면 호출된다.
      node.addEventListener('showText', function(event){
        node.textContent = event.myMemo;
      });

      document.getElementById('clickID').addEventListener('click', function(e){
        // 이벤트 오브젝트 생성
        var eventObj = document.createEvent('Event');
        // 이벤트 오브젝트 초기화
        eventObj.initEvent('showText', false, false);
        // Custom Event에 임의의 프로퍼티 이름을 지정할 수 있으며 리스너에서 사용할 수 있다.
        eventObj.myMemo = "이벤트가 생성되어 출력됨";

        // 이벤트를 발생 시킨다.
        node.dispatchEvent(eventObj);
      }, false);
    </script>
  </body>
</html>
