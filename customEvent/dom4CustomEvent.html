<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <style media="screen">
      #show {
        position: fixed;
        left: 100px;
        top: 80px;
        border: 1px blue solid
      }
    </style>
    <script src="../common/myNote.js"/>
    <script src="../common/log.js" charset="utf-8"></script>
  </head>
  <body>
    <div id="show" style="width: 150px; height: 40px; border: 1px blue solid">클릭하세요.</div>

    <script type="text/javascript">
      // Custom Event에서 이벤트를 발생시켰을 때 호출될 리스너
      var node = document.getElementById('show');

      // initEvent()에서 지정한 이벤트 이름과 연동하여 dispatchEvent로 이벤트를 발생시키면 호출된다.
      node.addEventListener('showText', function(event){
        node.innerHTML = event.detail.message + '<br>' + 'total amount : ' + event.detail.total.amount;
      }, false);

      // 이벤트 오브젝트 생성
      var eventObj = new CustomEvent('showText', {
        bubbles: false,
        cancelable: false,
        detail: {
          message: "이벤트가 발생하여 출력됨",
          total: {
            price: 100, qty: 50, amount: 5000
          }
        }
      });
      node.dispatchEvent(eventObj);
    </script>
  </body>
</html>
