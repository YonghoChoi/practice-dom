<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <script src="../common/log.js" charset="utf-8"></script>
  </head>
  <body>
    <ul id="sports">리스트
      <li id="id11">ID-11</li>
      <li id="id12">ID-12
        <ul id="ul2">
          <li id="id121">ID-121</li>
          <li id="id122">ID-122</li>
        </ul>
      </li>
      <li id="id13">ID-13</li>
    </ul>

    <script type="text/javascript">
      debugger;
      var iteratorObj = document.createNodeIterator(
        document.getElementById('sports'),
        NodeFilter.SHOW_ELEMENT,  // ELEMENT만 필터
        function(node) {    // nextNode시 function 수행
          debugger;
          if(node.nodeName === 'LI') {
            return NodeFilter.FILTER_ACCEPT;    // 필터링 통과
          } else {
            return NodeFilter.FILTER_REJECT;    // 필터링 미통과
          }
        }, false  // IE 때문에 필요한 파라미터
      );

      // createNodeIterator()의 첫 번째 파라미터의 엘리먼트를 filter 함수를 호출하면서 파라미터로 넘겨준다.
      var node = iteratorObj.nextNode();
      while(node) {
        js.log('id : ', node.id);
        // node 변수의 다음 노드를 추출하고 filter 함수를 호출하면서 다음 노드를 파라미터로 넘겨준다.
        // 필터링에 통과를 할때까지 nextNode가 수행된다. (nextNode를 호출하면 FILTER_ACCEPT가 되거나 node iteration이 끝날때까지 반복하여 탐색한다.)
        node = iteratorObj.nextNode();
      }
    </script>
  </body>
</html>
